<html><head><title class="page_data" id="page_title">RubyJS: Samples</title><style type="text/css">#content { overflow-x: auto; overflow-y: auto; height: 300px; }.hide { display: none; }.credit { color: rgb(136, 136, 136); background-color: inherit; }.block { padding-top: 20px; padding-right: 20px; padding-bottom: 20px; padding-left: 20px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(238, 238, 238); color: rgb(34, 34, 34); border-top-width: 2px; border-right-width: 2px; border-bottom-width: 2px; border-left-width: 2px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(221, 221, 221); border-right-color: rgb(221, 221, 221); border-bottom-color: rgb(221, 221, 221); border-left-color: rgb(221, 221, 221); background-position: initial initial; background-repeat: initial initial; }.internallink { font-size: 0.9em; text-align: center; }.right { text-align: right; }.clear { clear: both; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; }h4 { margin-top: 10px; margin-right: 0px; margin-bottom: 5px; margin-left: 0px; font-size: 1.2em; }h3 { margin-top: 20px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; font-size: 1.4em; }h2 { margin-top: 0px; margin-right: 0px; margin-bottom: 4px; margin-left: 0px; font-size: 1.8em; }h1 { font-size: 2.8em; }h1, h2, h3, h4 { margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; font-weight: normal; }#footer { margin-top: 0px; margin-right: auto; margin-bottom: 20px; margin-left: auto; width: 760px; background-image: url(images/footerbg.png); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); padding-top: 0px; padding-right: 0px; padding-bottom: 5px; padding-left: 0px; font-size: 0.9em; color: rgb(136, 136, 136); text-align: center; background-position: 0% 100%; background-repeat: no-repeat no-repeat; }#sidebar #menu li a:hover, #sidebar li.webgen-menu-item-selected a, #sidebar li.webgen-menu-item-selected span, .sidelink:hover, .menuheader { background-image: url(images/gradient2.png); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(136, 136, 136); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(136, 136, 136); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(221, 221, 221); text-decoration: none; background-position: initial initial; background-repeat: repeat no-repeat; }#sidebar #menu li a, #sidebar #menu li span, .sidelink { display: block; width: 140px; margin-top: 3px; margin-right: 10px; margin-bottom: 2px; margin-left: 0px; padding-top: 5px; padding-right: 0px; padding-bottom: 5px; padding-left: 8px; font-size: 1.1em; font-weight: bold; text-align: left; background-image: url(images/gradient1.png); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(238, 238, 238); color: rgb(34, 102, 204); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(187, 187, 187); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(187, 187, 187); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(221, 221, 221); background-position: initial initial; background-repeat: repeat no-repeat; }#sidebar #menu ul { list-style-type: none; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; }#sidebar ul.linklist { list-style-type: none; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 5px; padding-right: 0px; padding-bottom: 5px; padding-left: 8px; }#sidebar p, #sidebar .linklist { font-size: 0.9em; }#sidebar { width: 155px; float: right; margin-top: 20px; font-size: 1em; line-height: 1.3em; }#main h2, #main h3 { display: block; margin-top: 30px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 5px; padding-right: 0px; padding-bottom: 5px; padding-left: 8px; background-image: url(images/gradient2.png); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(238, 238, 238); color: rgb(34, 34, 34); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(221, 221, 221); border-right-width: 1px; border-right-style: solid; border-right-color: rgb(187, 187, 187); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(187, 187, 187); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(221, 221, 221); text-decoration: none; background-position: initial initial; background-repeat: repeat no-repeat; }#main { float: left; width: 530px; margin-right: 20px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; }#intro p { line-height: 1.5em; }#tagline { text-align: center; font-size: 1.2em; }#logo a:hover { background-color: inherit; color: rgb(102, 153, 238); }#logo a { background-color: inherit; color: rgb(34, 102, 170); text-decoration: none; }#logo h1 { margin-top: 50px; margin-right: 5px; margin-bottom: 1px; margin-left: 5px; letter-spacing: -3px; }#logo { float: left; width: 240px; margin-top: 0px; margin-right: 20px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 25px; padding-left: 0px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(238, 238, 238); border-top-width: 4px; border-right-width: 4px; border-bottom-width: 4px; border-left-width: 4px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(221, 221, 238); border-right-color: rgb(221, 221, 238); border-bottom-color: rgb(221, 221, 238); border-left-color: rgb(221, 221, 238); text-align: center; color: rgb(85, 85, 85); overflow-x: auto; overflow-y: auto; background-position: initial initial; background-repeat: initial initial; }#main p, #sidebar p { padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 10px; }p { margin-top: 0px; margin-right: 0px; margin-bottom: 15px; margin-left: 0px; line-height: 1.5em; }a img { border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; }a:hover { text-decoration: underline; }a { text-decoration: none; background-color: inherit; color: rgb(34, 102, 204); }#container { width: 720px; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; padding-top: 20px; padding-right: 20px; padding-bottom: 0px; padding-left: 20px; background-image: url(images/contbg.png); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); background-position: initial initial; background-repeat: no-repeat no-repeat; }#thetop { margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; }body { margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 30px; padding-right: 0px; padding-bottom: 30px; padding-left: 0px; font: normal normal normal 76%/normal tahoma, verdana, sans-serif; background-image: url(images/bodybg.png); background-attachment: fixed; background-origin: initial; background-clip: initial; background-color: rgb(0, 68, 119); color: rgb(34, 34, 34); background-position: initial initial; background-repeat: repeat no-repeat; }.news_entry { width: 500px; height: 200px; overflow-x: auto; overflow-y: auto; border-top-color: rgb(206, 206, 206); border-right-color: rgb(206, 206, 206); border-bottom-color: rgb(206, 206, 206); border-left-color: rgb(206, 206, 206); border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; }.code_sample { width: 500px; height: 200px; overflow-x: auto; overflow-y: auto; border-top-color: rgb(206, 206, 206); border-right-color: rgb(206, 206, 206); border-bottom-color: rgb(206, 206, 206); border-left-color: rgb(206, 206, 206); border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; }</style><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="description" content="your description goes here"><meta name="keywords" content="your,keywords,goes,here"><meta name="author" content="Your Name  / Original design: Andreas Viklund - http://andreasviklund.com/"><meta name="generator" content="webgen - http://webgen.rubyforge.org"></head><body><div id="thetop"><a id="top"></a><p class="hide">Skip to: <a href="#sitemenu" accesskey="2">Site menu</a> | <a href="#maincontent" accesskey="3">Main content</a></p></div><div id="container"><div id="main"><div id="logo"><h1>[<a href="index.html" accesskey="4" id="logo_link" class="page_data">RubyJS</a>]</h1><span id="tagline" class="page_data">A bridge to JavaScript</span></div><div id="intro"><h3 class="page_data" id="overview_header">Ruby + JSCore + HTML5</h3><p class="page_data" id="overview">A library providing ruby bindings to JavaScript, JavaScript bindings to ruby and a HTML5 framework via WebKitGTK</p></div><div class="clear"></div><h2 id="content_header" class="page_data">Some informative samples</h2><div id="content" class="page_data"><a href="./samples/sample1.rb">sample1.rb</a><div class="code_sample"><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
<strong><a href="#n10" name="n10">10</a></strong>
<a href="#n11" name="n11">11</a>
<a href="#n12" name="n12">12</a>
<a href="#n13" name="n13">13</a>
<a href="#n14" name="n14">14</a>
<a href="#n15" name="n15">15</a>
<a href="#n16" name="n16">16</a>
<a href="#n17" name="n17">17</a>
<a href="#n18" name="n18">18</a>
<a href="#n19" name="n19">19</a>
<strong><a href="#n20" name="n20">20</a></strong>
<a href="#n21" name="n21">21</a>
<a href="#n22" name="n22">22</a>
<a href="#n23" name="n23">23</a>
<a href="#n24" name="n24">24</a>
</pre></td>
  <td class="code"><pre>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">JS/base</span><span style="color:#710">'</span></span>
require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">gtk2</span><span style="color:#710">'</span></span>

ctx = <span style="color:#036;font-weight:bold">JS</span>::<span style="color:#036;font-weight:bold">GlobalContext</span>.new(<span style="color:#069">nil</span>)
globj = ctx.get_global_object
globj.Ruby = <span style="color:#036;font-weight:bold">Object</span>.new
globj.Gtk = <span style="color:#036;font-weight:bold">Gtk</span>
globj.GLib = <span style="color:#036;font-weight:bold">GLib</span>
globj.GObject = <span style="color:#036;font-weight:bold">GLib</span>::<span style="color:#036;font-weight:bold">Object</span>
<span style="color:#036;font-weight:bold">JS</span>.execute_script ctx,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&lt;&lt;EOJS</span></span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">
    w=Gtk.const_get('Window').new();

    w.signal_connect('show',function(){
      Ruby.send('puts','shown');
    });

    w.signal_connect('delete-event',function() {
      Gtk.main_quit();
    });

    w.show_all();

    Gtk.main();</span><span style="color:#710">
EOJS</span></span>
</pre></td>
</tr></tbody></table>
</div><a href="./samples/sample2.rb">sample2.rb</a><div class="code_sample"><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
</pre></td>
  <td class="code"><pre>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">rubygems</span><span style="color:#710">'</span></span>
require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">JS/base</span><span style="color:#710">'</span></span>
ctx = <span style="color:#036;font-weight:bold">JS</span>::<span style="color:#036;font-weight:bold">GlobalContext</span>.new(<span style="color:#069">nil</span>)
obj = <span style="color:#036;font-weight:bold">JS</span>::<span style="color:#036;font-weight:bold">Object</span>.new(ctx,{<span style="color:#A60">:name</span>=&gt;<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">World</span><span style="color:#710">'</span></span>,<span style="color:#A60">:sayHello</span>=&gt; proc <span style="color:#080;font-weight:bold">do</span> |t,n| <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">hello </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>n<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">"</span></span> <span style="color:#080;font-weight:bold">end</span>})
p a = <span style="color:#036;font-weight:bold">JS</span>.execute_script(ctx,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">this.sayHello(this.name);</span><span style="color:#710">'</span></span>,obj) <span style="color:#777">#=&gt; "hello World"</span>
p a == obj.sayHello(obj.name) <span style="color:#777">#=&gt; true</span>
</pre></td>
</tr></tbody></table>
</div><a href="./samples/sample3.rb">sample3.rb</a><div class="code_sample"><table class="CodeRay"><tbody><tr>
  <td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
<strong><a href="#n10" name="n10">10</a></strong>
<a href="#n11" name="n11">11</a>
<a href="#n12" name="n12">12</a>
<a href="#n13" name="n13">13</a>
<a href="#n14" name="n14">14</a>
<a href="#n15" name="n15">15</a>
<a href="#n16" name="n16">16</a>
<a href="#n17" name="n17">17</a>
<a href="#n18" name="n18">18</a>
<a href="#n19" name="n19">19</a>
<strong><a href="#n20" name="n20">20</a></strong>
<a href="#n21" name="n21">21</a>
<a href="#n22" name="n22">22</a>
<a href="#n23" name="n23">23</a>
<a href="#n24" name="n24">24</a>
<a href="#n25" name="n25">25</a>
<a href="#n26" name="n26">26</a>
<a href="#n27" name="n27">27</a>
<a href="#n28" name="n28">28</a>
<a href="#n29" name="n29">29</a>
</pre></td>
  <td class="code"><pre>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">JS/application</span><span style="color:#710">'</span></span>

<span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyApp</span> &lt; <span style="color:#036;font-weight:bold">JS</span>::<span style="color:#036;font-weight:bold">Application</span>
  <span style="color:#036;font-weight:bold">HTML_TEMPLATE</span> = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#710">"</span></span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">&lt;html&gt;&lt;head&gt;&lt;script type='text/javascript'&gt;
var Foo = {
  create: function(copy) {
    var o=new Object();
    no = Object.apply(o,[copy]);
    return no;
  }
};
&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;</span><span style="color:#710">"</span></span>
        <span style="color:#080;font-weight:bold">module</span> <span style="color:#B06;font-weight:bold">MyRunner</span>
                <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">on_render</span>
      alert <span style="color:#036;font-weight:bold">Foo</span>.create({
        <span style="color:#A60">:bar</span> =&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">foobar</span><span style="color:#710">"</span></span>
      }).bar
    <span style="color:#080;font-weight:bold">end</span>
        <span style="color:#080;font-weight:bold">end</span>

        <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">on_render</span>
                <span style="color:#036;font-weight:bold">JS</span>::<span style="color:#036;font-weight:bold">Application</span>.provide(context) <span style="color:#080;font-weight:bold">do</span>        
                        use_runner <span style="color:#036;font-weight:bold">MyRunner</span>
                        build_lib <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">"</span><span style="color:#D20">Foo</span><span style="color:#710">"</span></span>
                <span style="color:#080;font-weight:bold">end</span>.run
        <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>

<span style="color:#036;font-weight:bold">MyApp</span>.new.run
</pre></td>
</tr></tbody></table>
</div></div></div><div id="sidebar"><h2 class="sidelink menuheader"><a id="sitemenu"></a>Menu:</h2><div id="menu"><ul class="page_data" id="nav_bar"><li class="webgen-menu-level1"><a href="index.html">Home</a></li><li class="webgen-menu-level1"><a href="news.html">News</a></li><li class="webgen-menu-level1webgen-menu-item-selected"><span>Samples</span></li><li class="webgen-menu-level1"><a href="readme.html">Readme</a></li><li class="webgen-menu-level1"><a href="download.html">Download</a></li></ul></div><a class="hide" href="#top" accesskey="1">Top of page</a><br><br><h3>Related links</h3><ul class="linklist page_data" id="related"><li><a href="http://github.com/ppibburr/ruby_js">RubyJS @ GitHub</a></li><li><a href="http://google.com">google</a></li><li><a href="http://gtk.org">Gtk</a></li><li><a href="http://http://webkitgtk.org/">WebKitGTK</a></li></ul></div><div class="clear"></div></div><div id="footer"><p>(c) 2012 ppibburr | Generated by<a href="http://ppibburr.github.com/ruby_js">RubyJS</a> | Design by <a href="http://andreasviklund.com">Andreas Viklund</a></p></div></body></html>
